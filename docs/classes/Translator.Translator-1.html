<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Translator | @wymp/http-utils</title><meta name="description" content="Documentation for @wymp/http-utils"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@wymp/http-utils</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@wymp/http-utils</a></li><li><a href="../modules/Translator.html">Translator</a></li><li><a href="Translator.Translator-1.html">Translator</a></li></ul><h1>Class Translator&lt;DT, AT&gt;</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Translators perform the work of translating data between database format and api format<sup>[1]</sup>. They
are instantiated with an api prefix (e.g., &#39;/registry/v3&#39;, &#39;/brokerage/v2&#39;, etc...), a default
type, a spec, and an optional tranform function<sup>[2]</sup>. It is intended that each service will
maintain a library of resource translators that can be used throughout the service.</p>
</div><div><p>Example:</p>
<pre><code class="language-ts"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-3">User</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">Translator</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-5">&quot;/users/v1&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">&quot;users&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-6">fullName:</span><span class="hl-1"> </span><span class="hl-5">&quot;attr&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">birthdate:</span><span class="hl-1"> </span><span class="hl-5">&quot;attr&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">active:</span><span class="hl-1"> </span><span class="hl-5">&quot;attr&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">bestFriend:</span><span class="hl-1"> [ </span><span class="hl-5">&quot;bestFriendId&quot;</span><span class="hl-1">, </span><span class="hl-5">&quot;users&quot;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  (</span><span class="hl-6">from</span><span class="hl-1">: </span><span class="hl-5">&quot;db&quot;</span><span class="hl-1">|</span><span class="hl-5">&quot;api&quot;</span><span class="hl-1">, </span><span class="hl-6">k</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-6">v</span><span class="hl-1">: </span><span class="hl-7">unknown</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-8">// We happen to know that &quot;active&quot; is boolean, which is stored in the database as an int.</span><br/><span class="hl-1">    </span><span class="hl-8">// If coming from the db, we need to make the value boolean, and if coming from the api, we</span><br/><span class="hl-1">    </span><span class="hl-8">// need to make it numeric.</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">k</span><span class="hl-1"> === </span><span class="hl-5">&quot;active&quot;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> === </span><span class="hl-5">&quot;db&quot;</span><br/><span class="hl-1">        ? !!</span><span class="hl-7">Number</span><span class="hl-1">(</span><span class="hl-6">v</span><span class="hl-1">)</span><br/><span class="hl-1">        : </span><span class="hl-7">Number</span><span class="hl-1">(</span><span class="hl-6">v</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-8">// We also know that dates are in the database as a date string, but we want to pass them</span><br/><span class="hl-1">    </span><span class="hl-8">// as an integer (timestamp in MS)</span><br/><span class="hl-1">    } </span><span class="hl-6">else</span><span class="hl-1"> </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-6">k</span><span class="hl-1"> === </span><span class="hl-5">&quot;birthdate&quot;</span><span class="hl-1">) {</span><br/><span class="hl-1">      return </span><span class="hl-6">from</span><span class="hl-1"> === </span><span class="hl-5">&quot;db&quot;</span><br/><span class="hl-1">        ? new </span><span class="hl-4">Date</span><span class="hl-1">(</span><span class="hl-6">v</span><span class="hl-1">).</span><span class="hl-4">getTime</span><span class="hl-1">()</span><br/><span class="hl-1">        : new </span><span class="hl-4">Date</span><span class="hl-1">(</span><span class="hl-6">v</span><span class="hl-1">).</span><span class="hl-4">toISOString</span><span class="hl-1">()</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-8">// For any other fields, we just want to pass them back as-is</span><br/><span class="hl-1">    </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-6">v</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">)</span><br/><br/><span class="hl-6">User</span><span class="hl-1">.</span><span class="hl-4">dbToApi</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-5">&quot;aaaabbbbcccc-dddd-eeee-ffff-0000111122223333&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">fullName:</span><span class="hl-1"> </span><span class="hl-5">&quot;Mr. Katz&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">birthdate:</span><span class="hl-1"> </span><span class="hl-5">&quot;2000-01-01T00:08:00.00-00:00&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">active:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">bestFriendId:</span><span class="hl-1"> </span><span class="hl-5">&quot;000011112222-3333-4444-5555-6666777788889999&quot;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-8">// Yields</span><br/><span class="hl-8">// {</span><br/><span class="hl-8">//   id: &quot;aaaabbbbcccc-dddd-eeee-ffff-0000111122223333&quot;,</span><br/><span class="hl-8">//   fullName: &quot;Mr. Katz&quot;,</span><br/><span class="hl-8">//   birthdate: 946685280000,</span><br/><span class="hl-8">//   active: true,</span><br/><span class="hl-8">//   bestFriend: { data: { type: &quot;users&quot;, id: &quot;000011112222-3333-4444-5555-6666777788889999&quot; } }</span><br/><span class="hl-8">// }</span><br/><br/><span class="hl-6">User</span><span class="hl-1">.</span><span class="hl-4">apiToDb</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-5">&quot;aaaabbbbcccc-dddd-eeee-ffff-0000111122223333&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">fullName:</span><span class="hl-1"> </span><span class="hl-5">&quot;Mr. Katz&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">birthdate:</span><span class="hl-1"> </span><span class="hl-9">946685280000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">active:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">bestFriend:</span><span class="hl-1"> { </span><span class="hl-6">data:</span><span class="hl-1"> { </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-5">&quot;users&quot;</span><span class="hl-1">, </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-5">&quot;000011112222-3333-4444-5555-6666777788889999&quot;</span><span class="hl-1"> } }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-8">// Yields</span><br/><span class="hl-8">// {</span><br/><span class="hl-8">//   id: &quot;aaaabbbbcccc-dddd-eeee-ffff-0000111122223333&quot;,</span><br/><span class="hl-8">//   fullName: &quot;Mr. Katz&quot;,</span><br/><span class="hl-8">//   birthdate: &quot;2000-01-01T00:08:00.00-00:00&quot;,</span><br/><span class="hl-8">//   active: 1,</span><br/><span class="hl-8">//   bestFriendId: &quot;000011112222-3333-4444-5555-6666777788889999&quot;</span><br/><span class="hl-8">// }</span>
</code></pre>
<hr>

<a href="#footnotes" id="footnotes" style="color: inherit; text-decoration: none;">
  <h2>Footnotes</h2>
</a>
<ul>
<li>[1] Unfortunately, these functions cannot be purely type safe because API formats are not
  necessarily directly related to DB formats (i.e., there is not a one-to-one relationship
  between key-value pairs in the DB format and key-value pairs in the API format). Thus, the
  best we can do is provide the <em>intended</em> DB type and the <em>intended</em> API type and then an
  additional function (<code>transform</code>, see below) that serves to transform attribute data between
  database and api formats. Because of this, it is imperitive that you double-check the output
  of your Translators using unit tests.</li>
<li>[2] The <code>transform</code> param allows you to transform values between api and db format. For example,
  you may store boolean values as TINYINT in the database, or uuid values as BINARY(16) in the
  database. You can use the <code>transform</code> function to perform these transformations in each
  direction.</li>
</ul>
</div></div></section><section class="tsd-panel tsd-type-parameters"><h3>Type parameters</h3><ul class="tsd-type-parameters"><li><h4>DT<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Buffer</span><span class="tsd-signature-symbol"> }</span></h4></li><li><h4>AT<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span></h4></li></ul></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="target">Translator</span></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="Translator.Translator-1.html#apiToDb" class="tsd-kind-icon">api<wbr/>To<wbr/>Db</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="Translator.Translator-1.html#dbToApi" class="tsd-kind-icon">db<wbr/>To<wbr/>Api</a></li></ul></section><section class="tsd-index-section "><h3>Constructors</h3><ul class="tsd-index-list"><li class="tsd-kind-constructor tsd-parent-kind-class tsd-has-type-parameter"><a href="Translator.Translator-1.html#constructor" class="tsd-kind-icon">constructor</a></li></ul></section><section class="tsd-index-section tsd-is-private-protected"><h3>Properties</h3><ul class="tsd-index-list"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a href="Translator.Translator-1.html#apiPrefix" class="tsd-kind-icon">api<wbr/>Prefix</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a href="Translator.Translator-1.html#apiSpec" class="tsd-kind-icon">api<wbr/>Spec</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a href="Translator.Translator-1.html#dbSpec" class="tsd-kind-icon">db<wbr/>Spec</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a href="Translator.Translator-1.html#defaultType" class="tsd-kind-icon">default<wbr/>Type</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a href="Translator.Translator-1.html#transform" class="tsd-kind-icon">transform</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a id="apiToDb" class="tsd-anchor"></a><h3>api<wbr/>To<wbr/>Db</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">api<wbr/>To<wbr/>Db<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">PAT</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">PDT</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>data<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">PAT</span>, logger<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">SimpleLoggerInterface</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">PDT</span></li><li class="tsd-signature tsd-kind-icon">api<wbr/>To<wbr/>Db<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">PAT</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">PDT</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>data<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">PAT</span><span class="tsd-signature-symbol">[]</span>, logger<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">SimpleLoggerInterface</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">PDT</span><span class="tsd-signature-symbol">[]</span></li><li class="tsd-signature tsd-kind-icon">api<wbr/>To<wbr/>Db<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">PAT</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">PDT</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>data<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">PAT</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">PAT</span><span class="tsd-signature-symbol">[]</span>, logger<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">SimpleLoggerInterface</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">PDT</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">PDT</span><span class="tsd-signature-symbol">[]</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wymp/ts-http-utils/blob/08104ab/src/Translator.ts#L235">Translator.ts:235</a></li></ul></aside><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>PAT<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Nullable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">AT</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li><h4>PDT<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span><span class="tsd-signature-symbol">&gt;</span> = <span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>data: <span class="tsd-signature-type" data-tsd-kind="Type parameter">PAT</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> logger: <span class="tsd-signature-type">SimpleLoggerInterface</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type" data-tsd-kind="Type parameter">PDT</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wymp/ts-http-utils/blob/08104ab/src/Translator.ts#L239">Translator.ts:239</a></li></ul></aside><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>PAT<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Nullable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">AT</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li><h4>PDT<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span><span class="tsd-signature-symbol">&gt;</span> = <span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>data: <span class="tsd-signature-type" data-tsd-kind="Type parameter">PAT</span><span class="tsd-signature-symbol">[]</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> logger: <span class="tsd-signature-type">SimpleLoggerInterface</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type" data-tsd-kind="Type parameter">PDT</span><span class="tsd-signature-symbol">[]</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wymp/ts-http-utils/blob/08104ab/src/Translator.ts#L243">Translator.ts:243</a></li></ul></aside><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>PAT<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Nullable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">AT</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li><h4>PDT<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span><span class="tsd-signature-symbol">&gt;</span> = <span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>data: <span class="tsd-signature-type" data-tsd-kind="Type parameter">PAT</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">PAT</span><span class="tsd-signature-symbol">[]</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> logger: <span class="tsd-signature-type">SimpleLoggerInterface</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type" data-tsd-kind="Type parameter">PDT</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">PDT</span><span class="tsd-signature-symbol">[]</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="dbToApi" class="tsd-anchor"></a><h3>db<wbr/>To<wbr/>Api</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">db<wbr/>To<wbr/>Api<span class="tsd-signature-symbol">(</span>data<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span>, logger<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">SimpleLoggerInterface</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">AT</span></li><li class="tsd-signature tsd-kind-icon">db<wbr/>To<wbr/>Api<span class="tsd-signature-symbol">(</span>data<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span><span class="tsd-signature-symbol">[]</span>, logger<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">SimpleLoggerInterface</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">AT</span><span class="tsd-signature-symbol">[]</span></li><li class="tsd-signature tsd-kind-icon">db<wbr/>To<wbr/>Api<span class="tsd-signature-symbol">(</span>data<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span><span class="tsd-signature-symbol">[]</span>, logger<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">SimpleLoggerInterface</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">AT</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">AT</span><span class="tsd-signature-symbol">[]</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wymp/ts-http-utils/blob/08104ab/src/Translator.ts#L147">Translator.ts:147</a></li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>data: <span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> logger: <span class="tsd-signature-type">SimpleLoggerInterface</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type" data-tsd-kind="Type parameter">AT</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wymp/ts-http-utils/blob/08104ab/src/Translator.ts#L148">Translator.ts:148</a></li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>data: <span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span><span class="tsd-signature-symbol">[]</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> logger: <span class="tsd-signature-type">SimpleLoggerInterface</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type" data-tsd-kind="Type parameter">AT</span><span class="tsd-signature-symbol">[]</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wymp/ts-http-utils/blob/08104ab/src/Translator.ts#L149">Translator.ts:149</a></li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>data: <span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span><span class="tsd-signature-symbol">[]</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> logger: <span class="tsd-signature-type">SimpleLoggerInterface</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type" data-tsd-kind="Type parameter">AT</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">AT</span><span class="tsd-signature-symbol">[]</span></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group "><h2>Constructors</h2><section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class tsd-has-type-parameter"><a id="constructor" class="tsd-anchor"></a><h3>constructor</h3><ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">new <wbr/>Translator<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">AT</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>apiPrefix<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, defaultType<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, spec<span class="tsd-signature-symbol">: </span><a href="../interfaces/Translator.ApiResourceSpec.html" class="tsd-signature-type" data-tsd-kind="Interface">ApiResourceSpec</a>, transform<span class="tsd-signature-symbol">?: </span><a href="../interfaces/Translator.TransformFunction.html" class="tsd-signature-type" data-tsd-kind="Interface">TransformFunction</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">AT</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Translator.Translator-1.html" class="tsd-signature-type" data-tsd-kind="Class">Translator</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">AT</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wymp/ts-http-utils/blob/08104ab/src/Translator.ts#L124">Translator.ts:124</a></li></ul></aside><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>DT<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Buffer</span><span class="tsd-signature-symbol"> }</span></h4></li><li><h4>AT<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>apiPrefix: <span class="tsd-signature-type">string</span></h5></li><li><h5>defaultType: <span class="tsd-signature-type">string</span></h5></li><li><h5>spec: <a href="../interfaces/Translator.ApiResourceSpec.html" class="tsd-signature-type" data-tsd-kind="Interface">ApiResourceSpec</a></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> transform: <a href="../interfaces/Translator.TransformFunction.html" class="tsd-signature-type" data-tsd-kind="Interface">TransformFunction</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">AT</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="Translator.Translator-1.html" class="tsd-signature-type" data-tsd-kind="Class">Translator</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">AT</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group tsd-is-private-protected"><h2>Properties</h2><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a id="apiPrefix" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagProtected">Protected</span> api<wbr/>Prefix</h3><div class="tsd-signature tsd-kind-icon">api<wbr/>Prefix<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a id="apiSpec" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagProtected">Protected</span> api<wbr/>Spec</h3><div class="tsd-signature tsd-kind-icon">api<wbr/>Spec<span class="tsd-signature-symbol">:</span> <a href="../interfaces/Translator.ApiResourceSpec.html" class="tsd-signature-type" data-tsd-kind="Interface">ApiResourceSpec</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wymp/ts-http-utils/blob/08104ab/src/Translator.ts#L122">Translator.ts:122</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a id="dbSpec" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagProtected">Protected</span> db<wbr/>Spec</h3><div class="tsd-signature tsd-kind-icon">db<wbr/>Spec<span class="tsd-signature-symbol">:</span> <a href="../interfaces/Translator.DbResourceSpec.html" class="tsd-signature-type" data-tsd-kind="Interface">DbResourceSpec</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wymp/ts-http-utils/blob/08104ab/src/Translator.ts#L121">Translator.ts:121</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a id="defaultType" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagProtected">Protected</span> default<wbr/>Type</h3><div class="tsd-signature tsd-kind-icon">default<wbr/>Type<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a id="transform" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagProtected">Protected</span> <span class="tsd-flag ts-flagOptional">Optional</span> transform</h3><div class="tsd-signature tsd-kind-icon">transform<span class="tsd-signature-symbol">?:</span> <a href="../interfaces/Translator.TransformFunction.html" class="tsd-signature-type" data-tsd-kind="Interface">TransformFunction</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DT</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">AT</span><span class="tsd-signature-symbol">&gt;</span></div></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li><li class="current tsd-kind-namespace"><a href="../modules/Translator.html">Translator</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-class tsd-parent-kind-namespace tsd-has-type-parameter"><a href="Translator.Translator-1.html" class="tsd-kind-icon">Translator</a><ul><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="Translator.Translator-1.html#apiToDb" class="tsd-kind-icon">api<wbr/>To<wbr/>Db</a></li><li class="tsd-kind-constructor tsd-parent-kind-class tsd-has-type-parameter"><a href="Translator.Translator-1.html#constructor" class="tsd-kind-icon">constructor</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="Translator.Translator-1.html#dbToApi" class="tsd-kind-icon">db<wbr/>To<wbr/>Api</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a href="Translator.Translator-1.html#apiPrefix" class="tsd-kind-icon">api<wbr/>Prefix</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a href="Translator.Translator-1.html#apiSpec" class="tsd-kind-icon">api<wbr/>Spec</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a href="Translator.Translator-1.html#dbSpec" class="tsd-kind-icon">db<wbr/>Spec</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a href="Translator.Translator-1.html#defaultType" class="tsd-kind-icon">default<wbr/>Type</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a href="Translator.Translator-1.html#transform" class="tsd-kind-icon">transform</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>